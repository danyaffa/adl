<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADL - Ad Data Logic Universal Tracking</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Error handling for debugging
        window.addEventListener('error', function(e) {
            console.error('JavaScript Error:', e.error);
            document.body.innerHTML = '<div style="padding: 20px; background: #fee; border: 1px solid #fcc; margin: 20px; border-radius: 8px;"><h2>Error Loading App</h2><p>Error: ' + e.message + '</p><p>Line: ' + e.lineno + '</p><p>Check console for details</p></div>';
        });
    </script>
</head>
<body>
    <div id="root">
        <div style="padding: 20px; text-align: center;">
            <h2>Loading ADL Platform...</h2>
            <p>If this message persists, check the browser console for errors.</p>
        </div>
    </div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function ADLApp() {
            // Main app state - START WITH REGISTRATION DIRECTLY
            const [showCreateModal, setShowCreateModal] = useState(false);
            const [showPricingModal, setShowPricingModal] = useState(false);
            const [showPaymentModal, setShowPaymentModal] = useState(false);
            const [showThankYouModal, setShowThankYouModal] = useState(false);
            const [showTermsModal, setShowTermsModal] = useState(false);
            const [showPrivacyModal, setShowPrivacyModal] = useState(false);
            const [showAdRejectedModal, setShowAdRejectedModal] = useState(false);
            const [showRegistrationModal, setShowRegistrationModal] = useState(true); // START WITH REGISTRATION
            const [rejectionReason, setRejectionReason] = useState('');

            // User state - DIRECTLY REGISTER USER
            const [userRegistered, setUserRegistered] = useState(false); // FALSE - FORCE REGISTRATION
            const [userPlan, setUserPlan] = useState('starter');
            const [membershipDetails, setMembershipDetails] = useState(null);
            const [campaigns, setCampaigns] = useState([]);
            const [termsAccepted, setTermsAccepted] = useState(false);
            const [privacyAccepted, setPrivacyAccepted] = useState(false);
            const [ageVerified, setAgeVerified] = useState(false);
            const [selectedCurrency, setSelectedCurrency] = useState('USD');
            const [selectedBillingCycle, setBillingCycle] = useState('monthly');
            const [selectedPlan, setSelectedPlan] = useState('pro');
            const [paymentProcessing, setPaymentProcessing] = useState(false);
            const [paymentError, setPaymentError] = useState('');
            const [registrationComplete, setRegistrationComplete] = useState(false);

            // Prohibited content keywords
            const prohibitedKeywords = [
                'get rich quick', 'guaranteed money', 'make money fast', 'fake', 'counterfeit',
                'drugs', 'weapons', 'adult content', 'illegal gambling', 'pyramid scheme',
                'ponzi scheme', 'miracle cure', 'hate speech', 'pirated software'
            ];

            // Currencies
            const currencies = {
                USD: { symbol: '$', name: 'US Dollar', flag: '🇺🇸' },
                EUR: { symbol: '€', name: 'Euro', flag: '🇪🇺' },
                GBP: { symbol: '£', name: 'British Pound', flag: '🇬🇧' },
                AUD: { symbol: 'A$', name: 'Australian Dollar', flag: '🇦🇺' },
                CAD: { symbol: 'C$', name: 'Canadian Dollar', flag: '🇨🇦' }
            };

            const pricing = {
                pro: {
                    monthly: { USD: 29, EUR: 27, GBP: 23, AUD: 42, CAD: 39 },
                    yearly: { USD: 290, EUR: 270, GBP: 230, AUD: 420, CAD: 390 }
                },
                enterprise: {
                    monthly: { USD: 99, EUR: 92, GBP: 79, AUD: 142, CAD: 132 },
                    yearly: { USD: 990, EUR: 920, GBP: 790, AUD: 1420, CAD: 1320 }
                }
            };

            // Helper functions
            const formatPrice = (amount, currency) => {
                const currencyInfo = currencies[currency];
                return `${currencyInfo.symbol}${amount}`;
            };

            const getPrice = (plan, cycle) => {
                return pricing[plan][cycle][selectedCurrency];
            };

            const generateADLCode = (source) => {
                const timestamp = Date.now();
                const hash = Math.random().toString(36).substring(2, 8);
                const sourcePrefix = source ? source.substring(0, 2).toUpperCase() : 'XX';
                return `ADL_${sourcePrefix}${hash.toUpperCase()}_${timestamp}`;
            };

            // Content detection
            const detectProhibitedContent = (content) => {
                const lowerContent = content.toLowerCase();
                
                for (const keyword of prohibitedKeywords) {
                    if (lowerContent.includes(keyword)) {
                        return {
                            isProhibited: true,
                            keyword: keyword,
                            reason: `Content containing "${keyword}" is not allowed on this platform.`
                        };
                    }
                }
                
                return { isProhibited: false };
            };

            // Campaign creation
            const createCampaign = (campaignData) => {
                const fullContent = `${campaignData.name} ${campaignData.targetUrl} ${campaignData.description || ''}`;
                const detection = detectProhibitedContent(fullContent);
                
                if (detection.isProhibited) {
                    setRejectionReason(`
CAMPAIGN AUTOMATICALLY REJECTED

Detected Term: "${detection.keyword}"
Reason: ${detection.reason}

LEGAL NOTICE: This automated rejection is final and non-appealable. 
ADL Platform is not liable for any business losses resulting from content policy violations.
                    `);
                    setShowAdRejectedModal(true);
                    return false;
                }

                const newCampaign = {
                    ...campaignData,
                    code: generateADLCode(campaignData.source),
                    id: Date.now(),
                    clicks: 0,
                    conversions: 0,
                    revenue: 0,
                    status: 'active'
                };

                setCampaigns(prev => [...prev, newCampaign]);
                return true;
            };

            // Payment processing
            const processGlobalPayment = async (paymentData) => {
                setPaymentProcessing(true);
                try {
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    const price = getPrice(selectedPlan, selectedBillingCycle);
                    const membership = {
                        plan: selectedPlan,
                        cycle: selectedBillingCycle,
                        currency: selectedCurrency,
                        amount: price,
                        formattedAmount: formatPrice(price, selectedCurrency),
                        email: paymentData.email,
                        name: paymentData.cardholderName,
                        startDate: new Date().toLocaleDateString(),
                        nextBilling: new Date(Date.now() + (selectedBillingCycle === 'monthly' ? 30 : 365) * 24 * 60 * 60 * 1000).toLocaleDateString()
                    };
                    setMembershipDetails(membership);
                    setUserPlan(selectedPlan);
                    setPaymentProcessing(false);
                    setShowPaymentModal(false);
                    setShowThankYouModal(true);
                } catch (error) {
                    setPaymentError('Payment failed. Please try again.');
                    setPaymentProcessing(false);
                }
            };

            // Terms of Service content
            const termsOfService = `ADL PLATFORM TERMS OF SERVICE

LAST UPDATED: JUNE 7, 2025

AUTOMATED CONTENT ENFORCEMENT NOTICE:
This platform uses automated systems to detect and reject prohibited content. 
By using this service, you acknowledge that content violations will result in 
immediate automated rejection without manual review.

1. ACCEPTANCE OF TERMS
By accessing or using the ADL Platform, you agree to be bound by these Terms 
of Service and all applicable laws and regulations.

2. PROHIBITED CONTENT - AUTOMATIC REJECTION
The following content is STRICTLY PROHIBITED and will be automatically rejected:
• Financial fraud, get-rich-quick schemes, or investment scams
• Counterfeit, fake, or replica goods of any kind
• Illegal substances, drugs, or controlled substances
• Weapons, firearms, explosives, or dangerous items
• Adult content, pornography, or sexual services
• Illegal gambling or unlicensed betting services
• Medical fraud or unsubstantiated health claims
• Phishing attempts or fraudulent schemes
• Hate speech, discrimination, or violent content
• Pirated software or intellectual property theft

3. AUTOMATED ENFORCEMENT
• All campaign content is automatically scanned using AI technology
• Prohibited content is rejected immediately without human intervention
• No appeals process is available for automated rejections
• Repeated violations may result in permanent account suspension

4. DISCLAIMER OF LIABILITY
ADL PLATFORM AND ITS PROVIDERS:
• Are not responsible for user-generated content
• Do not endorse or guarantee any advertising content
• Are not liable for any damages arising from platform use
• Provide the service "AS IS" without warranties
• Reserve the right to terminate accounts at any time

BY CLICKING "I ACCEPT," YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD, 
AND AGREE TO BE BOUND BY THESE TERMS OF SERVICE.`;

            const privacyPolicy = `ADL PLATFORM PRIVACY POLICY

LAST UPDATED: JUNE 7, 2025

1. INFORMATION WE COLLECT
• Account information (email, name, payment details)
• Campaign data and advertising content
• Usage analytics and platform interactions
• Device information and IP addresses

2. HOW WE USE YOUR INFORMATION
• Provide and improve our services
• Process payments and manage accounts
• Detect and prevent fraudulent content
• Comply with legal obligations

3. AUTOMATED CONTENT SCANNING
We use automated systems to scan all user content for prohibited material. 
This scanning is necessary for legal compliance and platform security.

4. DATA SECURITY
We implement industry-standard security measures to protect your data, 
including encryption, secure servers, and regular security audits.

5. CONTACT US
Privacy questions: privacy@addatalogic.com`;

            // Registration Modal - MAIN ENTRY POINT
            const RegistrationModal = () => {
                const [formData, setFormData] = useState({
                    email: '',
                    firstName: '',
                    lastName: '',
                    company: '',
                    country: '',
                    birthDate: ''
                });

                const handleRegistration = (e) => {
                    e.preventDefault();
                    
                    if (!termsAccepted || !privacyAccepted || !ageVerified) {
                        alert('❌ You must accept all terms and verify your age to continue.');
                        return;
                    }

                    const birthDate = new Date(formData.birthDate);
                    const today = new Date();
                    const age = today.getFullYear() - birthDate.getFullYear();
                    
                    if (age < 18) {
                        alert('❌ You must be 18 or older to use this service.');
                        return;
                    }

                    // COMPLETE REGISTRATION AND LAUNCH PRICING
                    setUserRegistered(true);
                    setRegistrationComplete(true);
                    setShowRegistrationModal(false);
                    
                    // IMMEDIATELY SHOW PRICING AFTER REGISTRATION
                    setTimeout(() => {
                        setShowPricingModal(true);
                    }, 500);
                };

                if (!showRegistrationModal) return null;

                return React.createElement('div', 
                    { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" },
                    React.createElement('div', 
                        { className: "bg-white rounded-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto" },
                        React.createElement('div', 
                            { className: "p-8" },
                            React.createElement('div', 
                                { className: "text-center mb-8" },
                                React.createElement('div', { className: "text-4xl mb-4" }, '⚡'),
                                React.createElement('h2', { className: "text-3xl font-bold mb-2" }, 'Create Your ADL Account'),
                                React.createElement('p', { className: "text-gray-600" }, 'Complete registration to start tracking your ads')
                            ),
                            React.createElement('form', 
                                { onSubmit: handleRegistration, className: "space-y-6" },
                                React.createElement('div', 
                                    { className: "grid md:grid-cols-2 gap-4" },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium mb-2" }, 'First Name *'),
                                        React.createElement('input', {
                                            type: "text",
                                            required: true,
                                            value: formData.firstName,
                                            onChange: (e) => setFormData({...formData, firstName: e.target.value}),
                                            className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                        })
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium mb-2" }, 'Last Name *'),
                                        React.createElement('input', {
                                            type: "text",
                                            required: true,
                                            value: formData.lastName,
                                            onChange: (e) => setFormData({...formData, lastName: e.target.value}),
                                            className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                        })
                                    )
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-sm font-medium mb-2" }, 'Email Address *'),
                                    React.createElement('input', {
                                        type: "email",
                                        required: true,
                                        value: formData.email,
                                        onChange: (e) => setFormData({...formData, email: e.target.value}),
                                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                    })
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-sm font-medium mb-2" }, 'Company/Organization (Optional)'),
                                    React.createElement('input', {
                                        type: "text",
                                        value: formData.company,
                                        onChange: (e) => setFormData({...formData, company: e.target.value}),
                                        className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                    })
                                ),
                                React.createElement('div', 
                                    { className: "grid md:grid-cols-2 gap-4" },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium mb-2" }, 'Country *'),
                                        React.createElement('select', {
                                            required: true,
                                            value: formData.country,
                                            onChange: (e) => setFormData({...formData, country: e.target.value}),
                                            className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                        },
                                            React.createElement('option', { value: "" }, 'Select Country'),
                                            React.createElement('option', { value: "US" }, '🇺🇸 United States'),
                                            React.createElement('option', { value: "GB" }, '🇬🇧 United Kingdom'),
                                            React.createElement('option', { value: "AU" }, '🇦🇺 Australia'),
                                            React.createElement('option', { value: "CA" }, '🇨🇦 Canada'),
                                            React.createElement('option', { value: "DE" }, '🇩🇪 Germany'),
                                            React.createElement('option', { value: "FR" }, '🇫🇷 France')
                                        )
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: "block text-sm font-medium mb-2" }, 'Date of Birth *'),
                                        React.createElement('input', {
                                            type: "date",
                                            required: true,
                                            value: formData.birthDate,
                                            onChange: (e) => setFormData({...formData, birthDate: e.target.value}),
                                            className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                        })
                                    )
                                ),
                                React.createElement('div', 
                                    { className: "border-t pt-6" },
                                    React.createElement('h3', { className: "text-lg font-bold mb-4" }, 'Legal Agreements (Required)'),
                                    React.createElement('div', 
                                        { className: "space-y-4" },
                                        React.createElement('div', 
                                            { className: "flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg" },
                                            React.createElement('input', {
                                                type: "checkbox",
                                                id: "age-verify",
                                                checked: ageVerified,
                                                onChange: (e) => setAgeVerified(e.target.checked),
                                                className: "mt-1 h-4 w-4",
                                                required: true
                                            }),
                                            React.createElement('label', 
                                                { htmlFor: "age-verify", className: "text-sm" },
                                                React.createElement('span', { className: "font-medium text-red-800" }, 'Age Verification Required:'),
                                                React.createElement('br'),
                                                'I confirm that I am 18 years of age or older and legally able to enter into binding contracts.'
                                            )
                                        ),
                                        React.createElement('div', 
                                            { className: "flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg" },
                                            React.createElement('input', {
                                                type: "checkbox",
                                                id: "terms",
                                                checked: termsAccepted,
                                                onChange: (e) => setTermsAccepted(e.target.checked),
                                                className: "mt-1 h-4 w-4",
                                                required: true
                                            }),
                                            React.createElement('label', 
                                                { htmlFor: "terms", className: "text-sm" },
                                                React.createElement('span', { className: "font-medium text-blue-800" }, 'Terms of Service:'),
                                                React.createElement('br'),
                                                'I have read, understood, and agree to the ',
                                                React.createElement('button', {
                                                    type: "button",
                                                    onClick: () => setShowTermsModal(true),
                                                    className: "text-blue-600 underline hover:text-blue-800"
                                                }, 'Terms of Service'),
                                                ', including the automated content enforcement policy.'
                                            )
                                        ),
                                        React.createElement('div', 
                                            { className: "flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg" },
                                            React.createElement('input', {
                                                type: "checkbox",
                                                id: "privacy",
                                                checked: privacyAccepted,
                                                onChange: (e) => setPrivacyAccepted(e.target.checked),
                                                className: "mt-1 h-4 w-4",
                                                required: true
                                            }),
                                            React.createElement('label', 
                                                { htmlFor: "privacy", className: "text-sm" },
                                                React.createElement('span', { className: "font-medium text-green-800" }, 'Privacy Policy:'),
                                                React.createElement('br'),
                                                'I acknowledge that I have read and agree to the ',
                                                React.createElement('button', {
                                                    type: "button",
                                                    onClick: () => setShowPrivacyModal(true),
                                                    className: "text-green-600 underline hover:text-green-800"
                                                }, 'Privacy Policy'),
                                                ', including automated content scanning.'
                                            )
                                        )
                                    )
                                ),
                                React.createElement('button', {
                                    type: "submit",
                                    disabled: !termsAccepted || !privacyAccepted || !ageVerified,
                                    className: "w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 rounded-lg font-medium hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed"
                                }, '✅ Create Account & Continue to Plans')
                            )
                        )
                    )
                );
            };

            // Pricing Modal - LAUNCHES AFTER REGISTRATION
            const PricingModal = () => {
                if (!showPricingModal) return null;
                return React.createElement('div', 
                    { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" },
                    React.createElement('div', 
                        { className: "bg-white rounded-2xl w-full max-w-5xl p-8" },
                        React.createElement('div', 
                            { className: "text-center mb-8" },
                            React.createElement('div', { className: "text-4xl mb-4" }, '🎉'),
                            React.createElement('h2', { className: "text-3xl font-bold mb-2" }, 'Account Created Successfully!'),
                            React.createElement('p', { className: "text-gray-600 mb-6" }, 'Now choose your plan to start tracking your ads'),
                            React.createElement('div', 
                                { className: "flex items-center justify-center gap-3 mb-4" },
                                React.createElement('span', { className: "text-gray-600" }, 'Currency:'),
                                React.createElement('select', {
                                    value: selectedCurrency,
                                    onChange: (e) => setSelectedCurrency(e.target.value),
                                    className: "border border-gray-300 rounded-lg px-3 py-2 bg-white"
                                },
                                    Object.entries(currencies).map(([code, info]) => 
                                        React.createElement('option', { key: code, value: code }, `${info.flag} ${code} - ${info.name}`)
                                    )
                                )
                            )
                        ),
                        React.createElement('div', 
                            { className: "grid md:grid-cols-3 gap-8 mb-8" },
                            // Starter Plan
                            React.createElement('div', 
                                { className: "border-2 border-gray-200 rounded-2xl p-6 text-center" },
                                React.createElement('div', { className: "text-3xl mb-4" }, '🚀'),
                                React.createElement('h3', { className: "text-2xl font-bold mb-2" }, 'Starter'),
                                React.createElement('div', { className: "text-4xl font-bold mb-4" }, 'FREE'),
                                React.createElement('div', { className: "text-gray-600 mb-6" }, 'Perfect for testing'),
                                React.createElement('ul', 
                                    { className: "text-left space-y-2 mb-6 text-sm" },
                                    React.createElement('li', null, '✅ 5 campaigns max'),
                                    React.createElement('li', null, '✅ Basic analytics'),
                                    React.createElement('li', null, '✅ Universal tracking codes'),
                                    React.createElement('li', null, '✅ Automated fraud protection')
                                ),
                                React.createElement('button', {
                                    onClick: () => {
                                        setSelectedPlan('starter');
                                        setShowPricingModal(false);
                                        alert('✅ Starter plan activated! You can now create campaigns.');
                                    },
                                    className: "w-full bg-gray-500 text-white py-3 rounded-lg font-medium hover:bg-gray-600"
                                }, 'Use Free Plan')
                            ),
                            // Pro Plan
                            React.createElement('div', 
                                { className: "border-2 border-blue-500 rounded-2xl p-6 text-center relative" },
                                React.createElement('div', 
                                    { className: "absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full text-sm" },
                                    'Most Popular'
                                ),
                                React.createElement('div', { className: "text-3xl mb-4" }, '💼'),
                                React.createElement('h3', { className: "text-2xl font-bold mb-2" }, 'Pro'),
                                React.createElement('div', { className: "text-4xl font-bold mb-4" }, formatPrice(getPrice('pro', 'monthly'), selectedCurrency)),
                                React.createElement('div', { className: "text-gray-600 mb-6" }, 'per month'),
                                React.createElement('ul', 
                                    { className: "text-left space-y-2 mb-6 text-sm" },
                                    React.createElement('li', null, '✅ Unlimited campaigns'),
                                    React.createElement('li', null, '✅ Advanced analytics'),
                                    React.createElement('li', null, '✅ AI ad generation'),
                                    React.createElement('li', null, '✅ Split testing tools'),
                                    React.createElement('li', null, '✅ Export features'),
                                    React.createElement('li', null, '✅ Priority support')
                                ),
                                React.createElement('button', {
                                    onClick: () => {
                                        setSelectedPlan('pro');
                                        setShowPricingModal(false);
                                        setShowPaymentModal(true);
                                    },
                                    className: "w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600"
                                }, 'Choose Pro Plan')
                            ),
                            // Enterprise Plan
                            React.createElement('div', 
                                { className: "border-2 border-purple-500 rounded-2xl p-6 text-center" },
                                React.createElement('div', { className: "text-3xl mb-4" }, '👑'),
                                React.createElement('h3', { className: "text-2xl font-bold mb-2" }, 'Enterprise'),
                                React.createElement('div', { className: "text-4xl font-bold mb-4" }, formatPrice(getPrice('enterprise', 'monthly'), selectedCurrency)),
                                React.createElement('div', { className: "text-gray-600 mb-6" }, 'per month'),
                                React.createElement('ul', 
                                    { className: "text-left space-y-2 mb-6 text-sm" },
                                    React.createElement('li', null, '✅ Everything in Pro'),
                                    React.createElement('li', null, '✅ Multiple workspaces'),
                                    React.createElement('li', null, '✅ Custom integrations'),
                                    React.createElement('li', null, '✅ White-label options'),
                                    React.createElement('li', null, '✅ API access'),
                                    React.createElement('li', null, '✅ Dedicated support')
                                ),
                                React.createElement('button', {
                                    onClick: () => {
                                        setSelectedPlan('enterprise');
                                        setShowPricingModal(false);
                                        setShowPaymentModal(true);
                                    },
                                    className: "w-full bg-purple-500 text-white py-3 rounded-lg font-medium hover:bg-purple-600"
                                }, 'Choose Enterprise')
                            )
                        ),
                        React.createElement('div', 
                            { className: "text-center text-gray-600 text-sm" },
                            React.createElement('p', null, '🔒 All plans include 30-day money-back guarantee'),
                            React.createElement('p', null, '✅ Cancel anytime • No setup fees • Instant activation')
                        )
                    )
                );
            };

            // Payment Modal - LAUNCHES AFTER PLAN SELECTION
            const PaymentModal = () => {
                const [paymentData, setPaymentData] = useState({
                    email: '',
                    cardNumber: '',
                    expiryDate: '',
                    cvv: '',
                    cardholderName: ''
                });

                if (!showPaymentModal) return null;

                return React.createElement('div', 
                    { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" },
                    React.createElement('div', 
                        { className: "bg-white rounded-2xl w-full max-w-md p-6" },
                        React.createElement('div', 
                            { className: "text-center mb-6" },
                            React.createElement('div', { className: "text-3xl mb-2" }, '💳'),
                            React.createElement('h2', { className: "text-xl font-bold" }, 'Complete Your Payment'),
                            React.createElement('p', { className: "text-gray-600" }, `${selectedPlan.toUpperCase()} Plan - ${formatPrice(getPrice(selectedPlan, selectedBillingCycle), selectedCurrency)}/month`)
                        ),
                        React.createElement('div', 
                            { className: "bg-green-50 border border-green-200 rounded-lg p-3 mb-4" },
                            React.createElement('div', { className: "text-green-700 text-sm font-medium" }, '🔒 SSL Encrypted Payment'),
                            React.createElement('div', { className: "text-green-600 text-xs mt-1" }, 'Your payment is secured with bank-level encryption')
                        ),
                        React.createElement('div', 
                            { className: "space-y-4" },
                            React.createElement('input', {
                                type: "email",
                                placeholder: "Email Address",
                                value: paymentData.email,
                                onChange: (e) => setPaymentData({...paymentData, email: e.target.value}),
                                className: "w-full p-3 border rounded-lg",
                                required: true
                            }),
                            React.createElement('input', {
                                type: "text",
                                placeholder: "Card Number",
                                value: paymentData.cardNumber,
                                onChange: (e) => setPaymentData({...paymentData, cardNumber: e.target.value}),
                                className: "w-full p-3 border rounded-lg",
                                required: true
                            }),
                            React.createElement('div', 
                                { className: "grid grid-cols-2 gap-4" },
                                React.createElement('input', {
                                    type: "text",
                                    placeholder: "MM/YY",
                                    value: paymentData.expiryDate,
                                    onChange: (e) => setPaymentData({...paymentData, expiryDate: e.target.value}),
                                    className: "p-3 border rounded-lg",
                                    required: true
                                }),
                                React.createElement('input', {
                                    type: "text",
                                    placeholder: "CVV",
                                    value: paymentData.cvv,
                                    onChange: (e) => setPaymentData({...paymentData, cvv: e.target.value}),
                                    className: "p-3 border rounded-lg",
                                    required: true
                                })
                            ),
                            React.createElement('input', {
                                type: "text",
                                placeholder: "Cardholder Name",
                                value: paymentData.cardholderName,
                                onChange: (e) => setPaymentData({...paymentData, cardholderName: e.target.value}),
                                className: "w-full p-3 border rounded-lg",
                                required: true
                            }),
                            React.createElement('button', {
                                onClick: () => processGlobalPayment(paymentData),
                                disabled: paymentProcessing,
                                className: "w-full bg-green-500 text-white py-3 rounded-lg font-medium disabled:opacity-50 hover:bg-green-600"
                            }, paymentProcessing ? '⏳ Processing...' : `🔒 Complete Payment ${formatPrice(getPrice(selectedPlan, selectedBillingCycle), selectedCurrency)}`)
                        ),
                        React.createElement('div', 
                            { className: "flex gap-4 mt-4" },
                            React.createElement('button', {
                                onClick: () => setShowPaymentModal(false),
                                className: "flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300"
                            }, 'Cancel'),
                            React.createElement('button', {
                                onClick: () => {
                                    setShowPaymentModal(false);
                                    setShowPricingModal(true);
                                },
                                className: "flex-1 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300"
                            }, 'Back to Plans')
                        )
                    )
                );
            };

            // Other modals (simplified for space)
            const TermsModal = () => {
                if (!showTermsModal) return null;
                return React.createElement('div', 
                    { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4" },
                    React.createElement('div', 
                        { className: "bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden" },
                        React.createElement('div', 
                            { className: "p-6 border-b" },
                            React.createElement('div', 
                                { className: "flex justify-between items-center" },
                                React.createElement('h2', { className: "text-2xl font-bold" }, '⚖️ Terms of Service'),
                                React.createElement('button', {
                                    onClick: () => setShowTermsModal(false),
                                    className: "text-xl"
                                }, '✕')
                            )
                        ),
                        React.createElement('div', 
                            { className: "p-6 overflow-y-auto max-h-[70vh]" },
                            React.createElement('pre', { className: "whitespace-pre-wrap text-sm leading-relaxed" }, termsOfService)
                        )
                    )
                );
            };

            const PrivacyModal = () => {
                if (!showPrivacyModal) return null;
                return React.createElement('div', 
                    { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4" },
                    React.createElement('div', 
                        { className: "bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden" },
                        React.createElement('div', 
                            { className: "p-6 border-b" },
                            React.createElement('div', 
                                { className: "flex justify-between items-center" },
                                React.createElement('h2', { className: "text-2xl font-bold" }, '🛡️ Privacy Policy'),
                                React.createElement('button', {
                                    onClick: () => setShowPrivacyModal(false),
                                    className: "text-xl"
                                }, '✕')
                            )
                        ),
                        React.createElement('div', 
                            { className: "p-6 overflow-y-auto max-h-[70vh]" },
                            React.createElement('pre', { className: "whitespace-pre-wrap text-sm leading-relaxed" }, privacyPolicy)
                        )
                    )
                );
            };

            const ThankYouModal = () => {
                if (!showThankYouModal || !membershipDetails) return null;

                return React.createElement('div', 
                    { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4" },
                    React.createElement('div', 
                        { className: "bg-white rounded-2xl w-full max-w-xl p-8 text-center" },
                        React.createElement('div', 
                            { className: "w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6" },
                            React.createElement('span', { className: "text-white text-2xl" }, '✅')
                        ),
                        React.createElement('h2', { className: "text-3xl font-bold mb-4" }, `🎉 Welcome to ADL ${membershipDetails.plan.toUpperCase()}!`),
                        React.createElement('p', { className: "text-gray-600 mb-6" }, 'Your payment was successful and your account is now active.'),
                        React.createElement('div', 
                            { className: "bg-gray-50 rounded-lg p-4 mb-6 text-left" },
                            React.createElement('div', 
                                { className: "grid grid-cols-2 gap-4 text-sm" },
                                React.createElement('div', null, 'Plan: ', React.createElement('span', { className: "font-medium" }, membershipDetails.plan.toUpperCase())),
                                React.createElement('div', null, 'Amount: ', React.createElement('span', { className: "font-medium" }, membershipDetails.formattedAmount)),
                                React.createElement('div', null, 'Start: ', React.createElement('span', { className: "font-medium" }, membershipDetails.startDate)),
                                React.createElement('div', null, 'Next Billing: ', React.createElement('span', { className: "font-medium" }, membershipDetails.nextBilling))
                            )
                        ),
                        React.createElement('button', {
                            onClick: () => setShowThankYouModal(false),
                            className: "w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600"
                        }, '🚀 Start Using ADL Platform')
                    )
                );
            };

            // SIMPLIFIED MAIN APP RENDER
            return React.createElement('div', null,
                React.createElement(RegistrationModal),
                React.createElement(PricingModal),
                React.createElement(PaymentModal),
                React.createElement(ThankYouModal),
                React.createElement(TermsModal),
                React.createElement(PrivacyModal),
                
                // Main app content (only shows after registration)
                userRegistered && React.createElement('div', 
                    { className: "min-h-screen bg-gradient-to-br from-blue-50 to-purple-50" },
                    React.createElement('header', 
                        { className: "bg-white shadow-sm border-b" },
                        React.createElement('div', 
                            { className: "max-w-7xl mx-auto px-4 py-3" },
                            React.createElement('div', 
                                { className: "flex items-center justify-between" },
                                React.createElement('div', 
                                    { className: "flex items-center gap-3" },
                                    React.createElement('div', { className: "text-2xl font-bold text-blue-600" }, '⚡'),
                                    React.createElement('div', { className: "text-xl font-bold" }, 'ADL Platform'),
                                    React.createElement('span', 
                                        { className: "text-sm bg-yellow-100 text-yellow-800 px-2 py-1 rounded" },
                                        `${userPlan.toUpperCase()} PLAN`
                                    )
                                ),
                                React.createElement('nav', 
                                    { className: "flex items-center gap-6" },
                                    React.createElement('button', {
                                        onClick: () => setShowCreateModal(true),
                                        className: "flex items-center gap-2 text-gray-700 hover:text-blue-600"
                                    }, '🚀 Create Campaign'),
                                    userPlan === 'starter' && React.createElement('button', {
                                        onClick: () => setShowPricingModal(true),
                                        className: "bg-gradient-to-r from-yellow-400 to-yellow-600 text-white px-4 py-2 rounded-lg font-medium hover:opacity-90"
                                    }, '⭐ UPGRADE ⭐')
                                )
                            )
                        )
                    ),
                    React.createElement('main', 
                        { className: "max-w-7xl mx-auto px-4 py-8" },
                        React.createElement('div', 
                            { className: "text-center py-12" },
                            React.createElement('div', { className: "text-6xl mb-6" }, '🎉'),
                            React.createElement('h1', { className: "text-4xl font-bold mb-4" }, 'Welcome to ADL Platform!'),
                            React.createElement('p', { className: "text-gray-600 mb-8" }, `Your ${userPlan.toUpperCase()} account is ready. Start creating campaigns with automated fraud protection.`),
                            React.createElement('button', {
                                onClick: () => setShowCreateModal(true),
                                className: "bg-blue-500 text-white px-8 py-4 rounded-lg text-lg font-medium hover:bg-blue-600"
                            }, '🚀 Create Your First Campaign')
                        )
                    )
                )
            );
        }

        // Render the app
        try {
            ReactDOM.render(React.createElement(ADLApp), document.getElementById('root'));
            console.log('✅ ADL App rendered successfully - Direct launch mode');
        } catch (error) {
            console.error('❌ Error rendering ADL App:', error);
            document.getElementById('root').innerHTML = `
                <div style="padding: 20px; background: #fee; border: 1px solid #fcc; margin: 20px; border-radius: 8px;">
                    <h2>Error Loading ADL App</h2>
                    <p><strong>Error:</strong> ${error.message}</p>
                    <button onclick="location.reload()" style="background: #007cba; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">
                        🔄 Reload Page
                    </button>
                </div>
            `;
        }
    </script>
</body>
</html>
