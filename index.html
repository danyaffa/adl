<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADL - Universal Ad Tracking Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
        .modal { display: none; }
        .modal.show { display: flex; }
        .adl-code { font-family: monospace; background: #f3f4f6; padding: 8px; border-radius: 6px; border: 1px solid #d1d5db; }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-gray-50">

<!-- HEADER -->
<header class="bg-white shadow-sm border-b sticky top-0 z-40">
    <div class="max-w-7xl mx-auto px-6 py-4">
        <div class="flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="bg-blue-600 text-white p-2 rounded-lg flex items-center justify-center w-10 h-10">
                    <img src="public/ADL_logo.png" alt="ADL" class="w-6 h-6" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <span class="text-lg font-bold" style="display: none;">âš¡</span>
                </div>
                <div>
                    <h1 class="text-xl font-bold">ADL Platform</h1>
                    <p class="text-sm text-gray-500">Universal Ad Tracking</p>
                </div>
            </div>
            <div class="flex space-x-3">
                <button onclick="createCampaign()" class="bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700">ğŸš€ Create Campaign</button>
                <button onclick="generateAIAd()" class="bg-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-purple-700">ğŸ¤– AI Ad Generator</button>
                <button onclick="showHelp()" class="bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700">ğŸ“š Ad Generating Instructions</button>
            </div>
        </div>
    </div>
</header>

<!-- MAIN DASHBOARD -->
<main class="max-w-7xl mx-auto px-6 py-8">
    
    <!-- STATS CARDS -->
    <div class="grid grid-cols-4 gap-6 mb-8">
        <div class="bg-white p-6 rounded-xl border">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-600">ğŸ‘† CLICKS</span>
                <span class="text-xl">ğŸ“Š</span>
            </div>
            <div id="total-clicks" class="text-2xl font-bold">2,682</div>
            <div class="text-sm text-green-600">Live Analytics</div>
        </div>
        
        <div class="bg-white p-6 rounded-xl border">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-600">ğŸ¯ CONVERSIONS</span>
                <span class="text-xl">ğŸ¯</span>
            </div>
            <div id="total-conversions" class="text-2xl font-bold">179</div>
            <div class="text-sm text-blue-600">Cross-platform</div>
        </div>
        
        <div class="bg-white p-6 rounded-xl border">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-600">ğŸ’° REVENUE</span>
                <span class="text-xl">ğŸ’°</span>
            </div>
            <div id="total-revenue" class="text-2xl font-bold">$8,911</div>
            <div class="text-sm text-yellow-600">Real-time</div>
        </div>
        
        <div class="bg-white p-6 rounded-xl border">
            <div class="flex items-center justify-between mb-2">
                <span class="text-sm font-medium text-gray-600">ğŸ“ˆ ROI</span>
                <span class="text-xl">ğŸ“ˆ</span>
            </div>
            <div id="total-roi" class="text-2xl font-bold">156%</div>
            <div class="text-sm text-purple-600">Performance</div>
        </div>
    </div>

    <!-- CAMPAIGNS SECTION -->
    <div class="flex justify-between items-center mb-6">
        <div>
            <h2 class="text-2xl font-bold">Active Campaigns</h2>
            <p class="text-gray-600">ğŸ”— Universal Tracking Codes</p>
        </div>
        <button onclick="refreshData()" id="refresh-btn" class="bg-white border px-4 py-2 rounded-lg hover:bg-gray-50">ğŸ”„ Refresh</button>
    </div>

    <!-- CAMPAIGNS GRID -->
    <div id="campaigns-grid" class="grid grid-cols-3 gap-6">
        <!-- Campaigns populated by JavaScript -->
    </div>

</main>

<!-- CREATE CAMPAIGN MODAL -->
<div id="create-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 p-4">
    <div class="bg-white rounded-xl max-w-lg w-full p-8">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold">ğŸš€ Create Campaign</h3>
            <button onclick="closeModal('create-modal')" class="text-gray-400 hover:text-gray-600 text-2xl">Ã—</button>
        </div>
        
        <form id="campaign-form" class="space-y-4">
            <div>
                <label class="block text-sm font-medium mb-1">Campaign Name *</label>
                <input type="text" id="name" required class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="Holiday Sale 2025">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-1">ğŸŒ Select Source *</label>
                <select id="source" required class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="">Choose Platform</option>
                    <option value="Google Ads">Google Ads</option>
                    <option value="Facebook Ads">Facebook Ads</option>
                    <option value="TikTok Ads">TikTok Ads</option>
                    <option value="Instagram Ads">Instagram Ads</option>
                    <option value="LinkedIn Ads">LinkedIn Ads</option>
                    <option value="Twitter Ads">Twitter Ads</option>
                    <option value="YouTube Ads">YouTube Ads</option>
                    <option value="Amazon Ads">Amazon Ads</option>
                    <option value="Microsoft Ads">Microsoft Ads</option>
                    <option value="Snapchat Ads">Snapchat Ads</option>
                    <option value="Pinterest Ads">Pinterest Ads</option>
                    <option value="Reddit Ads">Reddit Ads</option>
                    <option value="Spotify Ads">Spotify Ads</option>
                    <option value="Apple Search Ads">Apple Search Ads</option>
                    <option value="Taboola">Taboola</option>
                    <option value="Outbrain">Outbrain</option>
                    <option value="Unity Ads">Unity Ads</option>
                    <option value="Criteo">Criteo</option>
                    <option value="Vungle">Vungle</option>
                    <option value="Email Marketing">Email Marketing</option>
                    <option value="SMS Marketing">SMS Marketing</option>
                    <option value="Affiliate">Affiliate</option>
                    <option value="Influencer">Influencer</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-1">ğŸ’° Budget ($) *</label>
                <input type="number" id="budget" required min="1" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="2500">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-1">ğŸ”— Target URL *</label>
                <input type="url" id="url" required class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="https://mystore.com">
            </div>
            
            <div id="adl-preview" class="bg-blue-50 p-4 rounded-lg border border-blue-200" style="display: none;">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-blue-800">ğŸ”— Auto-Generated ADL Code:</span>
                    <button type="button" onclick="copyCode()" class="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">ğŸ“‹ Copy</button>
                </div>
                <div id="generated-code" class="adl-code"></div>
            </div>
            
            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                <div class="flex items-start">
                    <span class="text-xl mr-2">âœ…</span>
                    <div>
                        <div class="font-medium text-green-800">Tracks conversions across ALL platforms</div>
                        <div class="text-sm text-green-700">Universal tracking with zero setup</div>
                    </div>
                </div>
            </div>
            
            <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700">ğŸš€ Create Campaign</button>
        </form>
    </div>
</div>

<!-- AI AD GENERATOR MODAL -->
<div id="ai-ad-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 p-4">
    <div class="bg-white rounded-xl max-w-3xl w-full p-8 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold">ğŸ¤– AI Ad Generator - SEO Optimized</h3>
            <button onclick="closeModal('ai-ad-modal')" class="text-gray-400 hover:text-gray-600 text-2xl">Ã—</button>
        </div>
        
        <form id="ai-ad-form" class="space-y-4">
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium mb-1">Product/Service *</label>
                    <input type="text" id="ai-product" required class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="E-commerce Store">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Target Keywords *</label>
                    <input type="text" id="ai-keywords" required class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="buy online, best deals">
                </div>
            </div>
            
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium mb-1">Target Audience *</label>
                    <select id="ai-audience" required class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500">
                        <option value="">Select Audience</option>
                        <option value="young-adults">Young Adults (18-25)</option>
                        <option value="professionals">Professionals (26-40)</option>
                        <option value="families">Families (30-50)</option>
                        <option value="seniors">Seniors (50+)</option>
                        <option value="students">Students</option>
                        <option value="entrepreneurs">Entrepreneurs</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-1">Ad Platform *</label>
                    <select id="ai-platform" required class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500">
                        <option value="">Select Platform</option>
                        <option value="google">Google Ads</option>
                        <option value="facebook">Facebook/Instagram</option>
                        <option value="linkedin">LinkedIn</option>
                        <option value="tiktok">TikTok</option>
                        <option value="universal">Universal (All Platforms)</option>
                    </select>
                </div>
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-1">Special Offers/CTA</label>
                <input type="text" id="ai-offer" class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500" placeholder="50% Off, Free Shipping, Limited Time">
            </div>
            
            <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-medium hover:bg-purple-700">ğŸ¤– Generate AI-Optimized Ad Copy</button>
        </form>
        
        <div id="ai-results" class="mt-6" style="display: none;">
            <div class="bg-purple-50 p-6 rounded-lg border border-purple-200">
                <h4 class="font-bold text-purple-800 mb-4">ğŸ¯ AI-Generated Ad Copy (SEO Optimized)</h4>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-purple-700 mb-1">ğŸ“ Headline:</label>
                        <div id="ai-headline" class="bg-white p-3 rounded border font-medium"></div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-purple-700 mb-1">ğŸ“„ Description:</label>
                        <div id="ai-description" class="bg-white p-3 rounded border"></div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-purple-700 mb-1">ğŸ”— ADL Tracking Code:</label>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-purple-600">âœ… Auto-embedded in your ad - No manual setup required!</span>
                            <button onclick="copyAICode()" class="bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700">ğŸ“‹ Copy</button>
                        </div>
                        <div id="ai-adl-code" class="adl-code"></div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-purple-700 mb-1">ğŸ“Š SEO Keywords Included:</label>
                        <div id="ai-seo-keywords" class="bg-white p-3 rounded border text-sm"></div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="useAIAd()" class="bg-blue-600 text-white py-2 rounded-lg font-medium hover:bg-blue-700">âœ… Use This Ad</button>
                        <button onclick="exportAIData()" class="bg-green-600 text-white py-2 rounded-lg font-medium hover:bg-green-700">ğŸ“Š Export Ad Data</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- HELP MODAL -->
<div id="help-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 p-4">
    <div class="bg-white rounded-xl max-w-4xl w-full p-8 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold">ğŸ“š ADL Platform - Ad Generating Instructions</h3>
            <button onclick="closeModal('help-modal')" class="text-gray-400 hover:text-gray-600 text-2xl">Ã—</button>
        </div>
        
        <div class="space-y-6">
            <div class="bg-blue-50 p-6 rounded-lg border border-blue-200">
                <h4 class="font-bold text-blue-800 mb-3">ğŸš€ 1. Create Campaign</h4>
                <ul class="text-blue-700 space-y-2 text-sm">
                    <li>â€¢ Click "Create Campaign" to start a new ad tracking campaign</li>
                    <li>â€¢ Choose your advertising platform (Google, Facebook, TikTok, etc.)</li>
                    <li>â€¢ Set your budget and target URL</li>
                    <li>â€¢ ADL automatically generates a unique tracking code (ADL_XX####)</li>
                    <li>â€¢ This code tracks across ALL platforms without expensive tools</li>
                </ul>
            </div>
            
            <div class="bg-purple-50 p-6 rounded-lg border border-purple-200">
                <h4 class="font-bold text-purple-800 mb-3">ğŸ¤– 2. AI Ad Generator</h4>
                <ul class="text-purple-700 space-y-2 text-sm">
                    <li>â€¢ Click "AI Ad Generator" for SEO-optimized ad copy</li>
                    <li>â€¢ Enter your product, keywords, and target audience</li>
                    <li>â€¢ AI creates high-converting headlines and descriptions</li>
                    <li>â€¢ Includes your ADL tracking code automatically</li>
                    <li>â€¢ Optimized for ranking on search engines and social platforms</li>
                </ul>
            </div>
            
            <div class="bg-green-50 p-6 rounded-lg border border-green-200">
                <h4 class="font-bold text-green-800 mb-3">ğŸ“Š 3. Automatic Analytics & Tracking</h4>
                <ul class="text-green-700 space-y-2 text-sm">
                    <li>â€¢ Click "View Analytics" on any campaign for detailed metrics</li>
                    <li>â€¢ See real-time clicks, conversions, revenue, and ROI automatically</li>
                    <li>â€¢ ADL tracking codes are auto-embedded in all generated ads</li>
                    <li>â€¢ Works across Google, Facebook, TikTok, LinkedIn, and 20+ platforms</li>
                    <li>â€¢ No need for expensive Google Analytics or GTM setup</li>
                </ul>
            </div>
            
            <div class="bg-yellow-50 p-6 rounded-lg border border-yellow-200">
                <h4 class="font-bold text-yellow-800 mb-3">ğŸ”— 4. Auto-Embedded ADL Tracking</h4>
                <ul class="text-yellow-700 space-y-2 text-sm">
                    <li>â€¢ ADL automatically embeds unique tracking codes in your ads (e.g., ADL_GO4XY1Z2345)</li>
                    <li>â€¢ No manual code insertion needed - everything happens automatically</li>
                    <li>â€¢ Your ads are instantly trackable across ALL platforms when published</li>
                    <li>â€¢ AI-generated ads include tracking codes automatically</li>
                    <li>â€¢ See which ads bring the most conversions and revenue without any setup</li>
                </ul>
            </div>
            
            <div class="bg-red-50 p-6 rounded-lg border border-red-200">
                <h4 class="font-bold text-red-800 mb-3">ğŸ’¡ 5. Key Benefits</h4>
                <ul class="text-red-700 space-y-2 text-sm">
                    <li>â€¢ âœ… Replace expensive Google Ads tracking and GTM</li>
                    <li>â€¢ âœ… Universal tracking across 25+ advertising platforms</li>
                    <li>â€¢ âœ… AI-generated SEO-optimized ad copy for better rankings</li>
                    <li>â€¢ âœ… Real-time analytics without monthly subscription fees</li>
                    <li>â€¢ âœ… One tracking code works everywhere</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- ANALYTICS MODAL -->
<div id="analytics-modal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 p-4">
    <div class="bg-white rounded-xl max-w-4xl w-full p-8 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-6">
            <div>
                <h3 id="analytics-title" class="text-xl font-bold">ğŸ“Š Campaign Analytics</h3>
                <div id="analytics-code" class="adl-code mt-2"></div>
            </div>
            <button onclick="closeModal('analytics-modal')" class="text-gray-400 hover:text-gray-600 text-2xl">Ã—</button>
        </div>
        
        <div class="grid grid-cols-4 gap-4 mb-6">
            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                <div class="flex items-center mb-2">
                    <span class="text-xl mr-2">ğŸ‘ï¸</span>
                    <span class="text-sm font-medium text-blue-700">IMPRESSIONS</span>
                </div>
                <div id="modal-impressions" class="text-2xl font-bold text-blue-800">45,600</div>
                <div id="modal-ctr" class="text-sm text-blue-600">2.73% CTR</div>
            </div>
            
            <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                <div class="flex items-center mb-2">
                    <span class="text-xl mr-2">ğŸ‘†</span>
                    <span class="text-sm font-medium text-purple-700">CLICKS</span>
                </div>
                <div id="modal-clicks" class="text-2xl font-bold text-purple-800">1,247</div>
                <div id="modal-cpc" class="text-sm text-purple-600">$2.00 CPC</div>
            </div>
            
            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                <div class="flex items-center mb-2">
                    <span class="text-xl mr-2">ğŸ¯</span>
                    <span class="text-sm font-medium text-green-700">CONVERSIONS</span>
                </div>
                <div id="modal-conversions" class="text-2xl font-bold text-green-800">89</div>
                <div id="modal-conv-rate" class="text-sm text-green-600">7.14% rate</div>
            </div>
            
            <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                <div class="flex items-center mb-2">
                    <span class="text-xl mr-2">ğŸ’°</span>
                    <span class="text-sm font-medium text-yellow-700">REVENUE</span>
                </div>
                <div id="modal-revenue" class="text-2xl font-bold text-yellow-800">$4,351</div>
                <div id="modal-roi" class="text-sm text-yellow-600">74% ROI</div>
            </div>
        </div>
        
        <div class="bg-gray-50 p-6 rounded-lg border">
            <h4 class="text-lg font-bold mb-4">ğŸ”— Universal Tracking Code</h4>
            <div class="bg-gray-900 text-white p-4 rounded-lg text-sm font-mono overflow-x-auto mb-4">
                <pre id="tracking-code">&lt;script&gt;
window.ADL = {
  track: function(event, data) {
    fetch('https://track.addatalogic.com/api/track/ADL_CODE_HERE', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({
        event: event || 'conversion',
        url: window.location.href,
        timestamp: Date.now(),
        ...data
      })
    });
  }
};
ADL.track('pageview');
&lt;/script&gt;</pre>
            </div>
            <div class="flex gap-3">
                <button onclick="copyTrackingCode()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">ğŸ“‹ Copy Code</button>
                <button onclick="exportCampaignData()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">ğŸ“Š Export Data</button>
            </div>
        </div>
    </div>
</div>

<!-- NOTIFICATION -->
<div id="notification" class="fixed top-6 right-6 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg font-medium" style="display: none;">
    <span id="notification-text"></span>
</div>

<script>
// CAMPAIGNS DATA
let campaigns = [
    {
        id: 1,
        name: 'Holiday Sale Campaign',
        source: 'Google Ads',
        budget: 2500,
        url: 'https://mystore.com/holiday',
        code: 'ADL_GO4XY1Z2345',
        status: 'active',
        clicks: 1247,
        conversions: 89,
        revenue: 4350.75,
        impressions: 45600,
        ctr: 2.73,
        cpc: 2.00,
        created: '2024-12-01'
    },
    {
        id: 2,
        name: 'Social Media Boost',
        source: 'Facebook Ads',
        budget: 1500,
        url: 'https://mystore.com/social',
        code: 'ADL_FA3AB7C8901',
        status: 'active',
        clicks: 892,
        conversions: 56,
        revenue: 2840.25,
        impressions: 28400,
        ctr: 3.14,
        cpc: 1.68,
        created: '2024-11-28'
    },
    {
        id: 3,
        name: 'TikTok Gen-Z Campaign',
        source: 'TikTok Ads',
        budget: 800,
        url: 'https://mystore.com/genz',
        code: 'ADL_TI9QW2E4567',
        status: 'paused',
        clicks: 543,
        conversions: 34,
        revenue: 1720.50,
        impressions: 18200,
        ctr: 2.98,
        cpc: 1.47,
        created: '2024-11-25'
    }
];

// GENERATE ADL CODE
function generateADLCode(source) {
    const prefix = 'ADL_';
    const sourceCode = source.substring(0, 2).toUpperCase();
    const random = Math.random().toString(36).substring(2, 6).toUpperCase();
    const timestamp = Date.now().toString().slice(-4);
    return `${prefix}${sourceCode}${random}${timestamp}`;
}

// NOTIFICATIONS
function showNotification(message) {
    const notification = document.getElementById('notification');
    const text = document.getElementById('notification-text');
    text.textContent = message;
    notification.style.display = 'block';
    setTimeout(() => notification.style.display = 'none', 3000);
}

// COPY TO CLIPBOARD
function copyToClipboard(text) {
    if (navigator.clipboard) {
        navigator.clipboard.writeText(text).then(() => {
            showNotification('ğŸ“‹ Copied to clipboard!');
        });
    } else {
        showNotification('ğŸ“‹ Ready to copy');
    }
}

// MODAL FUNCTIONS
function openModal(modalId) {
    document.getElementById(modalId).classList.add('show');
}

function closeModal(modalId) {
    document.getElementById(modalId).classList.remove('show');
}

// CREATE CAMPAIGN
function createCampaign() {
    openModal('create-modal');
}

// RENDER CAMPAIGNS
function renderCampaigns() {
    const grid = document.getElementById('campaigns-grid');
    grid.innerHTML = '';
    
    campaigns.forEach(campaign => {
        const convRate = campaign.clicks > 0 ? (campaign.conversions / campaign.clicks * 100).toFixed(1) : 0;
        const statusColor = campaign.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600';
        const statusText = campaign.status === 'active' ? 'ğŸŸ¢ Active' : 'â¸ï¸ Paused';
        
        const card = `
            <div class="bg-white rounded-xl border p-6 hover:shadow-lg transition-shadow">
                <div class="flex justify-between items-start mb-4">
                    <div class="flex-1">
                        <h3 class="text-lg font-bold mb-1">${campaign.name}</h3>
                        <p class="text-gray-600 text-sm">${campaign.source}</p>
                        <div class="mt-2">
                            <div class="flex justify-between items-center mb-1">
                                <span class="text-xs text-gray-500">ADL Code:</span>
                                <button onclick="copyToClipboard('${campaign.code}')" class="text-blue-600 text-xs hover:text-blue-800">ğŸ“‹ Copy</button>
                            </div>
                            <div class="adl-code text-xs">${campaign.code}</div>
                        </div>
                    </div>
                    <span class="px-3 py-1 text-xs font-medium rounded-full ${statusColor}">${statusText}</span>
                </div>
                
                <div class="grid grid-cols-3 gap-3 mb-4">
                    <div class="text-center p-3 bg-blue-50 rounded-lg">
                        <div class="text-xs text-blue-600 font-medium mb-1">ğŸ‘† CLICKS</div>
                        <div class="text-lg font-bold text-blue-700">${campaign.clicks.toLocaleString()}</div>
                    </div>
                    <div class="text-center p-3 bg-green-50 rounded-lg">
                        <div class="text-xs text-green-600 font-medium mb-1">ğŸ¯ CONVERSIONS</div>
                        <div class="text-lg font-bold text-green-700">${campaign.conversions}</div>
                    </div>
                    <div class="text-center p-3 bg-yellow-50 rounded-lg">
                        <div class="text-xs text-yellow-600 font-medium mb-1">ğŸ’° REVENUE</div>
                        <div class="text-lg font-bold text-yellow-700">$${Math.round(campaign.revenue)}</div>
                    </div>
                </div>
                
                <div class="flex gap-2">
                    <button onclick="viewAnalytics(${campaign.id})" class="flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700" title="View detailed analytics for this campaign">ğŸ‘ï¸ Analytics</button>
                    <button onclick="toggleStatus(${campaign.id})" class="bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm hover:bg-gray-200" title="${campaign.status === 'active' ? 'Pause this campaign' : 'Resume this campaign'}">${campaign.status === 'active' ? 'â¸ï¸' : 'â–¶ï¸'}</button>
                    <button onclick="deleteCampaign(${campaign.id})" class="bg-red-100 text-red-700 py-2 px-3 rounded-lg text-sm hover:bg-red-200" title="Delete this campaign permanently">ğŸ—‘ï¸</button>
                </div>
            </div>
        `;
        grid.innerHTML += card;
    });
}

// UPDATE TOTALS
function updateTotals() {
    const totalClicks = campaigns.reduce((sum, c) => sum + c.clicks, 0);
    const totalConversions = campaigns.reduce((sum, c) => sum + c.conversions, 0);
    const totalRevenue = campaigns.reduce((sum, c) => sum + c.revenue, 0);
    const totalBudget = campaigns.reduce((sum, c) => sum + c.budget, 0);
    const roi = totalBudget > 0 ? ((totalRevenue - totalBudget) / totalBudget * 100).toFixed(1) : 0;
    
    document.getElementById('total-clicks').textContent = totalClicks.toLocaleString();
    document.getElementById('total-conversions').textContent = totalConversions;
    document.getElementById('total-revenue').textContent = `$${Math.round(totalRevenue).toLocaleString()}`;
    document.getElementById('total-roi').textContent = `${roi}%`;
}

// CAMPAIGN ACTIONS
function toggleStatus(id) {
    const campaign = campaigns.find(c => c.id === id);
    if (campaign) {
        campaign.status = campaign.status === 'active' ? 'paused' : 'active';
        renderCampaigns();
        showNotification(`Campaign ${campaign.status === 'active' ? 'resumed' : 'paused'}!`);
    }
}

function deleteCampaign(id) {
    if (confirm('Delete this campaign?')) {
        campaigns = campaigns.filter(c => c.id !== id);
        renderCampaigns();
        updateTotals();
        showNotification('ğŸ—‘ï¸ Campaign deleted!');
    }
}

function viewAnalytics(id) {
    const campaign = campaigns.find(c => c.id === id);
    if (campaign) {
        document.getElementById('analytics-title').textContent = `ğŸ“Š ${campaign.name}`;
        document.getElementById('analytics-code').textContent = `ADL Code: ${campaign.code}`;
        document.getElementById('modal-impressions').textContent = campaign.impressions.toLocaleString();
        document.getElementById('modal-ctr').textContent = `${campaign.ctr}% CTR`;
        document.getElementById('modal-clicks').textContent = campaign.clicks.toLocaleString();
        document.getElementById('modal-cpc').textContent = `$${campaign.cpc} CPC`;
        document.getElementById('modal-conversions').textContent = campaign.conversions;
        document.getElementById('modal-conv-rate').textContent = `${(campaign.conversions/campaign.clicks*100).toFixed(1)}% rate`;
        document.getElementById('modal-revenue').textContent = `$${Math.round(campaign.revenue)}`;
        const roi = ((campaign.revenue - campaign.budget) / campaign.budget * 100).toFixed(1);
        document.getElementById('modal-roi').textContent = `${roi}% ROI`;
        
        const trackingCode = document.getElementById('tracking-code');
        trackingCode.textContent = trackingCode.textContent.replace('ADL_CODE_HERE', campaign.code);
        
        openModal('analytics-modal');
    }
}

// EXPORT FUNCTIONS
function exportAllData() {
    const csv = [
        'Campaign,Platform,ADL Code,Status,Budget,Clicks,Conversions,Revenue',
        ...campaigns.map(c => `"${c.name}","${c.source}","${c.code}","${c.status}","${c.budget}","${c.clicks}","${c.conversions}","${c.revenue.toFixed(2)}"`)
    ].join('\n');
    
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `adl_campaigns_${new Date().toISOString().split('T')[0]}.csv`;
    a.click();
    URL.revokeObjectURL(url);
    
    showNotification('ğŸ“Š CSV downloaded!');
}

function exportCampaignData() {
    showNotification('ğŸ“Š Campaign data exported!');
}

// AI AD GENERATOR
function generateAIAd() {
    openModal('ai-ad-modal');
}

// AI AD TEMPLATES
const aiAdTemplates = {
    google: {
        headlines: [
            "{product} - {offer} | Top Quality {keywords}",
            "Best {product} Deals - {offer} Available Now",
            "Premium {product} - {keywords} Guaranteed"
        ],
        descriptions: [
            "Discover amazing {product} deals with {offer}. Perfect for {audience}. {keywords} guaranteed. Order now!",
            "Get the best {product} experience. {offer} for {audience}. Top-rated {keywords}. Limited time offer!",
            "Quality {product} at unbeatable prices. {offer} included. Ideal for {audience}. {keywords} specialists."
        ]
    },
    facebook: {
        headlines: [
            "ğŸ”¥ {product} {offer} - Limited Time!",
            "âœ¨ Amazing {product} for {audience}",
            "ğŸ’ Premium {keywords} - {offer}"
        ],
        descriptions: [
            "Hey {audience}! Ready for incredible {product} deals? {offer} available now. Don't miss out on these {keywords}!",
            "Perfect {product} for {audience} like you! Get {offer} today. Top {keywords} guaranteed. Click now!",
            "Transform your experience with our {product}. {offer} exclusively for {audience}. {keywords} included!"
        ]
    },
    linkedin: {
        headlines: [
            "Professional {product} Solutions - {offer}",
            "Boost Your {keywords} with {product}",
            "Enterprise {product} - {offer} for Professionals"
        ],
        descriptions: [
            "Elevate your professional game with premium {product}. {offer} for {audience}. Industry-leading {keywords}.",
            "Professional-grade {product} designed for {audience}. {offer} available. Expert {keywords} solutions.",
            "Transform your business with our {product}. {offer} for serious professionals. {keywords} excellence."
        ]
    },
    tiktok: {
        headlines: [
            "viral {product} hack! {offer} ğŸ¤¯",
            "POV: you found the best {product} {offer}",
            "this {product} changed my life! {offer}"
        ],
        descriptions: [
            "OMG this {product} is everything! {offer} is insane! Perfect for {audience} who want {keywords} âœ¨",
            "Not me crying over this {product} deal ğŸ˜­ {offer} hits different! {audience} need this {keywords}",
            "Main character energy with this {product}! {offer} is giving! {audience} approved {keywords} ğŸ’…"
        ]
    },
    universal: {
        headlines: [
            "Premium {product} - {offer} Available",
            "Best {keywords} Deals - {product}",
            "Quality {product} for {audience} - {offer}"
        ],
        descriptions: [
            "Experience premium {product} with {offer}. Perfect for {audience} seeking quality {keywords}. Order today!",
            "Discover the best {product} deals with {offer}. Designed for {audience}. Top-rated {keywords} included.",
            "Get quality {product} at great prices. {offer} available for {audience}. Expert {keywords} guaranteed."
        ]
    }
};

// SHOW HELP
function showHelp() {
    openModal('help-modal');
}
function copyCode() {
    const code = document.getElementById('generated-code').textContent;
    copyToClipboard(code);
}

function copyTrackingCode() {
    const code = document.getElementById('tracking-code').textContent;
    copyToClipboard(code);
}

// REFRESH DATA
function refreshData() {
    const btn = document.getElementById('refresh-btn');
    btn.textContent = 'ğŸ”„ Refreshing...';
    
    setTimeout(() => {
        campaigns = campaigns.map(c => ({
            ...c,
            clicks: c.clicks + Math.floor(Math.random() * 15),
            conversions: c.conversions + Math.floor(Math.random() * 3),
            revenue: c.revenue + Math.random() * 100
        }));
        renderCampaigns();
        updateTotals();
        btn.textContent = 'ğŸ”„ Refresh';
        showNotification('ğŸ”„ Data refreshed!');
    }, 1000);
}

// FORM HANDLING
document.getElementById('campaign-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const name = document.getElementById('name').value;
    const source = document.getElementById('source').value;
    const budget = parseInt(document.getElementById('budget').value);
    const url = document.getElementById('url').value;
    const code = document.getElementById('generated-code').textContent;
    
    const newCampaign = {
        id: Date.now(),
        name,
        source,
        budget,
        url,
        code,
        status: 'active',
        clicks: Math.floor(Math.random() * 50),
        conversions: Math.floor(Math.random() * 10),
        revenue: Math.random() * 500,
        impressions: Math.floor(Math.random() * 2000) + 1000,
        ctr: (Math.random() * 3 + 1).toFixed(2),
        cpc: (Math.random() * 2 + 0.5).toFixed(2),
        created: new Date().toISOString().split('T')[0]
    };
    
    campaigns.push(newCampaign);
    renderCampaigns();
    updateTotals();
    closeModal('create-modal');
    document.getElementById('campaign-form').reset();
    document.getElementById('adl-preview').style.display = 'none';
    showNotification('ğŸ‰ Campaign created!');
});

// ADL CODE GENERATION ON SOURCE CHANGE
document.getElementById('source').addEventListener('change', function() {
    const source = this.value;
    if (source) {
        const code = generateADLCode(source);
        document.getElementById('generated-code').textContent = code;
        document.getElementById('adl-preview').style.display = 'block';
    } else {
        document.getElementById('adl-preview').style.display = 'none';
    }
});

// INITIALIZE APP
document.addEventListener('DOMContentLoaded', function() {
    renderCampaigns();
    updateTotals();
    
    // Auto-refresh every 30 seconds
    setInterval(() => {
        campaigns = campaigns.map(c => {
            if (c.status === 'active') {
                return {
                    ...c,
                    clicks: c.clicks + Math.floor(Math.random() * 5),
                    conversions: c.conversions + Math.floor(Math.random() * 2),
                    revenue: c.revenue + Math.random() * 50
                };
            }
            return c;
        });
        renderCampaigns();
        updateTotals();
    }, 30000);
});
</script>

</body>
</html>
